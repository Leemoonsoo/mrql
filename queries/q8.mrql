/* xmark data generated by http://www.xml-benchmark.org/ */

S = source(xml,xpath(.),"/home/fegaras/xmark/xmark.xml",{"person","category"});

select (cat,count(p),select text(x.name) from x in p)
from p in S,
     c in p.profile.interest,
     ct in S
where ct.@id = c.@category
group by cat: text(ct.name);
